-- 1755747422_add_collector_unique_constraint.up.sql

-- Code generated by database migration. DO NOT EDIT.

-- Add unique constraint for organization, bucket, instance_num, and collector_name combination
-- This allows multiple collectors per organization but ensures each collector is unique
ALTER TABLE organization_buckets 
ADD CONSTRAINT organization_buckets_org_bucket_instance_collector_unique 
UNIQUE(organization_id, bucket_id, instance_num, collector_name);