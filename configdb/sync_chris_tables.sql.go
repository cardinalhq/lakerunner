// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: sync_chris_tables.sql

package configdb

import (
	"context"
)

const syncOrganizations = `-- name: SyncOrganizations :exec

INSERT INTO organizations (id, name, enabled, created_at, synced_at)
SELECT id, name, COALESCE(enabled, true), COALESCE(created_at, NOW()), NOW()
FROM c_organizations
ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  enabled = EXCLUDED.enabled,
  synced_at = NOW()
`

// This file contains queries for syncing data from legacy c_ tables (managed externally)
// to our own tables that we control.
func (q *Queries) SyncOrganizations(ctx context.Context) error {
	_, err := q.db.Exec(ctx, syncOrganizations)
	return err
}
